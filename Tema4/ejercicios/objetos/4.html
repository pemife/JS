<!DOCTYPE html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">

      function Factura(cliente, elementos, info){
        this.cliente = cliente;
        this.elementos = elementos;
        this.info = info;
      }

      function Cliente(nombre, direccion, telefono, nif){
        this.nombre = nombre;
        this.direccion = direccion;
        this.telefono = telefono;
        this.nif = nif;
      }

      function Elemento(descripcion, cantidad, precio){
        this.descripcion = descripcion;
        this.cantidad = cantidad;
        this.precio = precio;
      }

      var elementos = [new Elemento("Azucar", 20, 0.50),
                       new Elemento("Especias", 5, 0.10),
                       new Elemento("Cosas bonitas", 4, 0.50),
                       new Elemento("X", 1, 1000)];

      function Info(baseImpo, iva, total, formPago){
        this.baseImpo = baseImpo || 0;
        this.iva = iva || 0.21;
        this.total = total || 0;
        this.formPago = formPago || "contado";
      }

      function Empresa(nombre, direccion, telefono, cif){
        this.nombre = nombre;
        this.direccion = direccion;
        this.telefono = telefono;
        this.cif = cif;
      }

      Factura.prototype.empresa = new Empresa("PepMil", "Calle falsa 123", 123123123, "17293712E");

      Factura.prototype.calcularTotal = function(){
        for (var i=0; i < this.elementos.length; i++){
          this.info.baseImpo+=this.elementos[i].cantidad*this.elementos[i].precio;
        }
        this.info.total = (this.info.baseImpo*this.info.iva).toFixed(2);
      }

      Factura.prototype.mostrarTotal = function(){
        return this.total;
      }

    </script>
  </body>
</html>
